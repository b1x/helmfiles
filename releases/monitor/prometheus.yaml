repositories:
  - name: stable
    url: https://kubernetes-charts.storage.googleapis.com

releases:
  - name: prometheus
    namespace: monitor
    chart: stable/prometheus
    version: "10.3.1"
    installed: true
    # wait: true
    values:
      - nameOverride: prometheus

        server:
          enabled: true
          ingress:
            enabled: true
            annotations:
              kubernetes.io/ingress.class: nginx
              nginx.ingress.kubernetes.io/force-ssl-redirect: "true"
              cert-manager.io/cluster-issuer: "letsencrypt-prod"
            hosts:
              - '{{ env "PROMETHEUS_HOST" }}'
            tls:
              - secretName: prometheus-tls
                hosts:
                  - '{{ env "PROMETHEUS_HOST" }}'
          persistentVolume:
            enabled: false
            # storageClass: "efs"

        alertmanager:
          enabled: false
          persistentVolume:
            enabled: false
            # storageClass: "efs"

        kubeStateMetrics:
          enabled: false
